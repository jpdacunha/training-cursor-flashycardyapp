---
alwaysApply: true
description: SEO best practices and requirements for optimal search engine visibility
---

# SEO Best Practices

## Core Principle

**ALL pages and components MUST follow SEO best practices** to ensure optimal search engine visibility, accessibility, and performance.

## HTML Semantic Structure

### Required Semantic Tags

Always use semantic HTML5 elements to structure content:

```html
<header>
  <!-- Site/page header, navigation -->
</header>

<main>
  <!-- Primary page content -->
  <article>
    <!-- Self-contained content that could be distributed independently -->
  </article>
</main>

<footer>
  <!-- Site/page footer, copyright, links -->
</footer>
```

### Additional Semantic Elements

Use appropriate semantic tags throughout:

- `<nav>` - Navigation sections
- `<section>` - Thematic grouping of content
- `<aside>` - Sidebar or tangentially related content
- `<figure>` and `<figcaption>` - Images with captions
- `<h1>` to `<h6>` - Hierarchical heading structure (one `<h1>` per page)

### SEO-Critical Attributes

#### Image Alt Text
```typescript
// ✅ GOOD - Descriptive alt text
<img src="/card.jpg" alt="Flashcard showing French vocabulary with flip animation" />

// ❌ BAD - Missing or generic alt text
<img src="/card.jpg" alt="image" />
<img src="/card.jpg" />
```

**Rules for alt text:**
- Describe the content and function of the image
- Keep it concise (under 125 characters)
- Don't start with "image of" or "picture of"
- Use empty `alt=""` only for purely decorative images

#### Link Attributes
```typescript
// External links
<a href="https://external.com" target="_blank" rel="noopener noreferrer">
  External Link
</a>

// Sponsored/paid links
<a href="https://sponsor.com" rel="sponsored noopener">
  Sponsor Link
</a>
```

## Metadata Management

### Next.js Metadata API

Use Next.js 14+ Metadata API for all metadata:

```typescript
// app/[locale]/page.tsx or layout.tsx
import type { Metadata } from "next";

export const metadata: Metadata = {
  title: "Page Title - Site Name",
  description: "Concise description of page content (150-160 characters)",
  keywords: ["flashcard", "learning", "vocabulary"],
  authors: [{ name: "Your Name" }],
  openGraph: {
    title: "Page Title",
    description: "Description for social sharing",
    url: "https://yoursite.com/page",
    siteName: "FlashyCardyApp",
    images: [
      {
        url: "https://yoursite.com/og-image.jpg",
        width: 1200,
        height: 630,
        alt: "Description of OG image",
      },
    ],
    locale: "en_US",
    type: "website",
  },
  twitter: {
    card: "summary_large_image",
    title: "Page Title",
    description: "Description for Twitter",
    images: ["https://yoursite.com/twitter-image.jpg"],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large",
      "max-snippet": -1,
    },
  },
  verification: {
    google: "verification-code",
    // other verification codes
  },
};
```

### Dynamic Metadata

For dynamic pages, use `generateMetadata`:

```typescript
export async function generateMetadata({ params }): Promise<Metadata> {
  const { locale, id } = await params;
  const data = await fetchData(id);
  
  return {
    title: `${data.title} - FlashyCardyApp`,
    description: data.description,
    openGraph: {
      title: data.title,
      description: data.description,
      images: [data.image],
    },
  };
}
```

### Metadata Best Practices

- **Title**: 50-60 characters, include brand name
- **Description**: 150-160 characters, action-oriented
- **OG Images**: 1200x630px, under 1MB, high quality
- **Keywords**: 5-10 relevant keywords (low priority for modern SEO)

## URL Structure

### Clean and Hierarchical URLs

URLs should be:
- **Human-readable**: Use descriptive words, not IDs
- **Hierarchical**: Reflect content structure
- **Lowercase**: Consistent casing
- **Hyphenated**: Use hyphens, not underscores

```typescript
// ✅ GOOD URLs
/flashcards/french/beginner
/learn/vocabulary/animals
/profile/settings/notifications

// ❌ BAD URLs
/flashcards?id=123&type=abc
/LEARN/Vocabulary_animals
/profileSettingsNotifications
```

### Dynamic Routes in Next.js

```typescript
// File structure reflects URL hierarchy
app/
  [locale]/
    flashcards/
      page.tsx                    // /flashcards
      [category]/
        page.tsx                  // /flashcards/french
        [level]/
          page.tsx                // /flashcards/french/beginner
```

### Canonical URLs

Always specify canonical URLs to prevent duplicate content issues:

```typescript
export const metadata: Metadata = {
  alternates: {
    canonical: "https://yoursite.com/canonical-path",
  },
};
```

### Locale-Specific URLs

```typescript
export const metadata: Metadata = {
  alternates: {
    canonical: "https://yoursite.com/page",
    languages: {
      "en-US": "https://yoursite.com/en/page",
      "fr-FR": "https://yoursite.com/fr/page",
    },
  },
};
```

## Performance and Core Web Vitals

### Image Optimization

Always use Next.js `<Image>` component:

```typescript
import Image from "next/image";

// ✅ GOOD - Optimized with lazy loading
<Image
  src="/hero.jpg"
  alt="Hero image description"
  width={1200}
  height={630}
  priority={false}  // Use true only for above-fold images
  loading="lazy"    // Explicit lazy loading
  quality={85}      // Balance quality/size
  placeholder="blur"
  blurDataURL="data:image/..."
/>

// ❌ BAD - Regular img tag
<img src="/hero.jpg" />
```

#### Image Best Practices

1. **Format**: Use WebP or AVIF when possible
2. **Sizing**: Provide exact width/height to prevent layout shift (CLS)
3. **Lazy Loading**: Default for below-fold images
4. **Priority**: Set `priority={true}` only for LCP images (hero, above-fold)
5. **Responsive**: Use `sizes` prop for responsive images
6. **Compression**: Target 80-85% quality

```typescript
// Responsive image with sizes
<Image
  src="/card.jpg"
  alt="Flashcard"
  width={800}
  height={600}
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
  loading="lazy"
/>
```

### Font Optimization

Use Next.js font optimization:

```typescript
// app/[locale]/layout.tsx
import { Inter } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  display: "swap",
  variable: "--font-inter",
});

export default function Layout({ children }) {
  return (
    <html className={inter.variable}>
      <body>{children}</body>
    </html>
  );
}
```

### Code Splitting and Lazy Loading

```typescript
// Lazy load heavy components
import dynamic from "next/dynamic";

const HeavyComponent = dynamic(() => import("./HeavyComponent"), {
  loading: () => <div>Loading...</div>,
  ssr: false, // Disable SSR if not needed
});

// Lazy load with suspense
import { Suspense } from "react";

<Suspense fallback={<Loading />}>
  <HeavyComponent />
</Suspense>
```

### Performance Targets (Core Web Vitals)

Monitor and optimize for:

- **LCP (Largest Contentful Paint)**: < 2.5s
  - Optimize images
  - Use CDN
  - Minimize render-blocking resources

- **FID/INP (First Input Delay / Interaction to Next Paint)**: < 200ms
  - Minimize JavaScript
  - Code split heavy libraries
  - Use web workers for heavy computations

- **CLS (Cumulative Layout Shift)**: < 0.1
  - Specify image dimensions
  - Reserve space for dynamic content
  - Avoid inserting content above existing content

### Asset Optimization

```typescript
// next.config.js
module.exports = {
  images: {
    formats: ["image/avif", "image/webp"],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
  compress: true, // Enable gzip compression
  swcMinify: true, // Use SWC for minification
};
```

## Sitemap and robots.txt

### Sitemap Generation

Create `app/sitemap.ts`:

```typescript
import { MetadataRoute } from "next";

export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = "https://yoursite.com";
  
  // Static routes
  const routes = ["", "/about", "/contact"].map((route) => ({
    url: `${baseUrl}${route}`,
    lastModified: new Date(),
    changeFrequency: "weekly" as const,
    priority: route === "" ? 1 : 0.8,
  }));

  // Dynamic routes (fetch from database)
  const dynamicRoutes = getDynamicRoutes().map((route) => ({
    url: `${baseUrl}${route.path}`,
    lastModified: route.updatedAt,
    changeFrequency: "daily" as const,
    priority: 0.6,
  }));

  return [...routes, ...dynamicRoutes];
}
```

### Multi-locale Sitemap

```typescript
export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = "https://yoursite.com";
  const locales = ["en", "fr"];
  
  const routes = ["/", "/flashcards", "/learn"];
  
  return routes.flatMap((route) =>
    locales.map((locale) => ({
      url: `${baseUrl}/${locale}${route}`,
      lastModified: new Date(),
      alternates: {
        languages: Object.fromEntries(
          locales.map((loc) => [loc, `${baseUrl}/${loc}${route}`])
        ),
      },
    }))
  );
}
```

### Robots.txt Configuration

Create `app/robots.ts`:

```typescript
import { MetadataRoute } from "next";

export default function robots(): MetadataRoute.Robots {
  const baseUrl = "https://yoursite.com";
  
  return {
    rules: [
      {
        userAgent: "*",
        allow: "/",
        disallow: [
          "/api/",
          "/admin/",
          "/_next/",
          "/private/",
        ],
      },
      {
        userAgent: "GPTBot",
        disallow: "/", // Block AI crawlers if desired
      },
    ],
    sitemap: `${baseUrl}/sitemap.xml`,
  };
}
```

### Additional robots.txt Considerations

```typescript
// Block specific paths from indexing
export const metadata: Metadata = {
  robots: {
    index: false,
    follow: false,
  },
};

// Or per-route in page.tsx
export const metadata = {
  robots: "noindex, nofollow",
};
```

## Structured Data (JSON-LD)

Add structured data for rich snippets:

```typescript
// components/structured-data.tsx
export function StructuredData({ data }: { data: any }) {
  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{ __html: JSON.stringify(data) }}
    />
  );
}

// Usage in page
const structuredData = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "FlashyCardyApp",
  "description": "Learn languages with flashcards",
  "url": "https://yoursite.com",
  "applicationCategory": "EducationalApplication",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD",
  },
};

<StructuredData data={structuredData} />
```

## SEO Checklist

When creating or modifying pages:

- [ ] Use semantic HTML structure (header, main, article, footer)
- [ ] Include proper heading hierarchy (one h1 per page)
- [ ] Add descriptive alt text to all images
- [ ] Set appropriate metadata (title, description, OG tags)
- [ ] Use Next.js Image component with lazy loading
- [ ] Specify image dimensions to prevent CLS
- [ ] Create clean, hierarchical URLs
- [ ] Add canonical URLs
- [ ] Include locale alternatives
- [ ] Test Core Web Vitals scores
- [ ] Update sitemap for new routes
- [ ] Check robots.txt configuration
- [ ] Add structured data where applicable
- [ ] Verify mobile responsiveness
- [ ] Test with Lighthouse/PageSpeed Insights

## Tools and Testing

### Recommended Testing Tools

1. **Lighthouse** - Built into Chrome DevTools
2. **Google PageSpeed Insights** - https://pagespeed.web.dev/
3. **Google Search Console** - Monitor indexing and performance
4. **Screaming Frog** - Crawl site for SEO issues
5. **Web.dev Measure** - Core Web Vitals testing

### Performance Monitoring

```typescript
// Add Web Vitals reporting
// app/[locale]/layout.tsx
import { Analytics } from "@vercel/analytics/react";
import { SpeedInsights } from "@vercel/speed-insights/next";

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
        <SpeedInsights />
      </body>
    </html>
  );
}
```

## Resources

- Next.js Metadata API: https://nextjs.org/docs/app/api-reference/functions/generate-metadata
- Next.js Image Optimization: https://nextjs.org/docs/app/api-reference/components/image
- Google SEO Guide: https://developers.google.com/search/docs
- Core Web Vitals: https://web.dev/vitals/
- Schema.org: https://schema.org/
